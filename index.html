<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="utf-8">
	<title>quiz</title>
	<style type="text/css">
		body{font-family: sans-serif; font-size: 18px;}
		.grid {width: 600px; margin: 50px auto; background-color: #fff; padding: 10px 50px 30px 50px; border: 2px solid lightskyblue; border-radius: 20px; box-shadow: 5px 5px 5px #cbcbcb;}
		.grid h1 {color: #333; font-size: 2.4em; text-align: center;}
		.grid #question {font-size: 24px; background-color: lightseagreen; color: #fff; font-size: 1.2em; padding: 10px 2em; border-radius: 15px; text-align: left;}
		#quiz {text-align: center;}

		#progress{color: #2b2b2b; font-size: 20px;}
		.buttons {padding: 30px 20px; border: 2px solid lightskyblue; border-radius: 20px;}
		.btn {background-color: lightgreen; color: #333; width: 250px; font-size: 16px; border: 1px solid lightskyblue; border-radius: 15px; margin: 10px 40px 20px 0px; padding: 10px; transition: 0.5s;}
		.btn:nth-child(2n) {margin-right: 0;}
		.btn:hover {cursor: pointer; background-color: lightseagreen; color: white;}
		.btn:focus {outline: 0;}



	</style>

	<script src="js/jquery.js"></script>
	
</head>
<body>
	
	<div class="grid">
		<h1>witness 퀴즈</h1>
		<div id="quiz">
			<p id="question"></p>
			<div class="buttons">
				<button class="btn"></button>
				<button class="btn"></button>
				<button class="btn"></button>
				<button class="btn"></button>
			</div>
			<footer>
				<p id="progress">문제 x of y.</p>
			</footer>
		</div>
	</div>

	<!-- <script src="app_jq.js"></script> -->
	<script>
		$(function(){
			//문체 객체 생성
			function Question(text, choice, answer){
				this.text = text;
				this.choice = choice;
				this.answer = answer;
			}

			//퀴즈 정보 객체 생성
			function Quiz(questions){
				this.score = 0;
				this.questions = questions; //질문[]
				this.questionIndex = 0; //질문 순서
			}

			//정답 확인 메소드
			Quiz.prototype.correctAnswer = function(answer){
				return answer == this.questions[this.questionIndex].answer;
			};

			//문제 데이터
			var questions = [
			new Question('다음 중 역대 대학부 목사님이 아닌 분은?', ['이춘열 목사님', '홍성표 목사님','조영민 목사님','이장규 목사님'],'이장규 목사님'),
			new Question('2020년 8월 28일 오늘 금철 설교자는 누구인가?', ['박지웅 목사님','오건호 전도사님','최세호 목사님','황영환 목사님'],'박지웅 목사님'),
			new Question('다음 중 대학부 최초의 형제 시간 청지기는?',['조완희','윤종인','이영훈','이웅기'],'윤종인'),
			new Question('다음 중 수련회 섬김이 아닌 것은?', ['터잡이','티 테이블','사랑의 엽서','산장'],'터잡이'),
			new Question('다음 중 내수동교회 교육부서 명칭이 아닌 것은?', ['DREAMER','예닮이','경주자','FISHERS'],'FISHERS'),
			new Question('다음 중 아동부 캠프를 기획한 사람은 누구인가?', ['송재숙 권사님','정영호 장로님','박정욱 목사님','이재현 안수집사님'],'이재현 안수집사님'),
			new Question('다음 중 쉐마 마을의 "쉐마"의 뜻은 무엇 인가?', ['이스라엘아 들으라','다시오실 예수 그리스도','강한 용사 여호와','이스라엘 혼난다'],'이스라엘아 들으라'),
			new Question('다음 중 박정욱 목사님의 대학 전공은?', ['신학과','기계 공학과','철학과','경영학과'],'기계 공학과')
			];

			//퀴즈 객체 생성
			var quiz = new Quiz(questions);

			//문제 출력함수
			function update_quiz(){
				var $question = $('#question');
				var idx = quiz.questionIndex + 1;
				$question.html('문제'+ idx + ')' + quiz.questions[quiz.questionIndex].text);

				for(var i=0; i<8; i++){
					var $choice = $('.btn').eq(i);
					$choice.html(quiz.questions[quiz.questionIndex].choice[i]);
				}
				progress();
			}
			//문제 진행 정보 표시 (현재 문제 번호/총 문항수)
			function progress() {
				var progress = $('#progress');
				progress.html("문제" + (quiz.questionIndex+1)+"/"+quiz.questions.length);
			}

			//결과 표시
			function result(){
				var $quiz = $('#quiz');
				var per = parseInt((quiz.score*100)/quiz.questions.length);
				var txt = '<h1>결과</h1>'+'<h2 id="score"> 당신의 점수: '+quiz.score+'/'+quiz.questions.length+'<br><br>'+per+'점</h2>';
				$quiz.html(txt);
				if(per<40){
					txt +='<h2 style="color:red">좀더 분발하시길ㅎ</h2>';
					$quiz.html(txt);
				} else if(per >= 40 && per <=55) {
					txt +='<h2 style="color:red">나쁘지 않은데요?!</h2>';
					$quiz.html(txt);
				} else if(per >= 55 && per <=70) {
					txt +='<h2 style="color:red">훌륭합니다!</h2>';
					$quiz.html(txt);
				} else if(per >= 70 && per <=90) {
					txt +='<h2 style="color:red">꽤 많은걸 알고 있군요?</h2>';
					$quiz.html(txt);
				} else if(per > 90){
					txt += '<h2 style="color:red">내수동교회 어디까지 알고잇니..?</h2>';
					$quiz.html(txt);
				}
			}

			//입력 및 정답 확인 함수
			(function(){
				$('.btn').click(function(){
					var $answer = $(this).text();

					if (quiz.correctAnswer($answer)){
						console.log('true');
						quiz.score++;
					} else { alert('틀렸습니다!');}
					if (quiz.questionIndex < quiz.questions.length-1){
						quiz.questionIndex++;
						update_quiz();
					} else {result();}
				}); //end onclick
				update_quiz();
			})(); //end main()



		}); // end$()
		
	</script>
</body>
</html>